{
    "parser_settings": {
        "version": "omni.2.1",
        "file_format_type": "fixed-length-adv"
    },
    "file_declaration": {
        "record_declarations": [
            {
                "name": "HDR",
                "child_records": [
                    {
                        "name": "GRH", "max": -1,
                        "fields": [ { "name": "id", "start_pos": 7, "length": 5 } ],
                        "child_records": [
                            {
                                "name": "NWR", "max": -1, "is_target": true,
                                "fields": [ { "name": "title", "start_pos": 20, "length": 60 } ],
                                "child_records": [
                                    {
                                        "name": "SPU", "min": 0, "max": -1,
                                        "fields": [ { "name": "publisher_name", "start_pos": 31, "length": 45 } ],
                                        "child_records": [
                                            {
                                                "name": "SPT", "min": 0, "max": -1,
                                                "fields": [ { "name": "terrory_id", "start_pos": 51, "length": 4 } ]
                                            }
                                        ]
                                    },
                                    {
                                        "name": "SWR", "min": 0, "max": -1,
                                        "fields": [
                                            { "name": "writer_id", "start_pos": 20, "length": 9 },
                                            { "name": "last_name", "start_pos": 29, "length": 45 }
                                        ],
                                        "child_records": [
                                            {
                                                "name": "SWT", "min": 0, "max": -1,
                                                "fields": [ { "name": "terrory_id", "start_pos": 45, "length": 4 } ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            { "name": "GRT" }
                        ]
                    },
                    { "name": "TRL" }
                ]
            }
        ]
    },
    "transform_declarations": {
        "FINAL_OUTPUT": { "object": {
            "title": { "xpath": "title" },
            "publishers": { "array": [
                { "xpath": "SPU", "object": {
                    "publisher_name": { "xpath": "publisher_name" },
                    "terrorites": { "array": [
                        { "xpath": "SPT", "object": {
                            "terrory_id": { "xpath": "terrory_id" }
                        }}
                    ]}
                }}
            ]},
            "writers": { "array": [
                { "xpath": "SWR", "object": {
                    "writer_id": { "xpath": "writer_id" },
                    "last_name": { "xpath": "last_name" },
                    "terrorites": { "array": [
                        { "xpath": "SWT", "object": {
                            "terrory_id": { "xpath": "terrory_id" }
                        }}
                    ]}
                }}
            ]}
        }}
    }
}
